tip. 기초적인 것만 vi로 정리하고, 복잡한 소스는 FTP나 IDE서버로 직접 연결해서 마우스와 함께 비주얼 위지웍 에디터 환경에서 작업하기를 권장. 



## vi 에디터 모드

1. 명령모드 (command mode)

   - 기본적으로 명령모드로 실행된다

   - 입력 기능 이외의 특수한 동작(복사, 붙여넣기, 되돌리기 등)

2. 입력모드 (insert mode)

   - 키보드를 통해 글자 입력

   - 입력모드는 GUI 기반의 에디터들이 기본적으로 동작하는 형태와 동일

   - 콘솔 환경에서는 복사와 붙여넣기 같이 단순한 편집 기능조차도 구현하기가 까다롭다.

     따라서 VIM에서는 입력모드에서는 정말 문자 입력 작업만을 하다가 ESC키를 눌러서 명령모드로 전환한 뒤에 적절한 편집 기능을 사용하는 구조.

   - VIM에 익숙하지 않은 사용자는 입력 작업 중간중간 ESC키를 눌러서 명령모드로 바꿔주어야 하는 불편함이 크지만 익숙해지면 빠르게 할 수 있다.

3. EX 모드 (ex mode)
   - ex명령어(저장, 나가기 등) 사용
   - 명령모드처럼 키보드 키를 입력하면 단축키 같이 즉시 명령이 처리되는 모드가 아니라, 명령어를 입력하고 엔터를 쳐서 해당 명령을 수행하는 모드
   - ex모드로 진입하기 위해서는 명령모드 상태에서 :(콜론) 키를 입력하게되면 화면 맨 하단 왼쪽에 :(콜론) 모양이 나오면서 커서가 깜빡거리는 모습을 볼 수 있다. 이때 원하는 ex모드 명령어를 입력하고 엔터

4. 비쥬얼 모드 (visual mode)



## 명령어

1. 실행하기

| KEY       | 동작                                        |
| --------- | ------------------------------------------- |
| vi file   | file을 열기                                 |
| vi + file | file을 열고 커서를 본문의 마지막에 위치시킴 |



2. 종료하기

   vi 에디터 사용 중, <ESC> 키를 누르면 무조건 vi 명령 모드가 된다.

| KEY         | 동작                                                         |
| :---------- | :----------------------------------------------------------- |
| :w          | 현재 변경사항 저장                                           |
| :wq         | 현재 변경사항 저장 후 나가기                                 |
| :q!         | 저장하지 않고 나가기                                         |
| :q          | 나가기 (변경사항이 있다면 오류가 발생하고 나가지지 않음)     |
| :!bash      | (편집 상태를 그대로 두고 bash 쉘 실행. 재 진입하려면 exit 후 엔터) |
| (대문자) ZZ | 현재 변경사항 저장 후 나가기                                 |



3. 입력 명령(입력모드로 전환)

| KEY  | 동작                                           |
| ---- | ---------------------------------------------- |
| i    | 현재위치에서 삽입                              |
| I    | 현재줄의 처음위치에서 삽입                     |
| a    | 현재위치에서 한칸앞으로 이동해서 삽입          |
| A    | 현재줄의 마지막위치에서 삽입                   |
| o    | 새로운 줄을 커서 아래에 연다                   |
| O    | 새로운 줄을 커서 위연다                        |
| s    | 현재 위치의 문자를 지우고 입력모드로 들어간다. |
| S    | 현재위치의 라인을 지우고 입력모드로 들어간다.  |



4. 커서 이동

   명령모드일경우. 입력모드로 전환 후 키보드 방향키로 이동해도 됨

| KEY  | 동작                    |
| :--- | :---------------------- |
| h    | 왼쪽으로 1 space 이동   |
| l    | 오른쪽으로 1 space 이동 |
| j    | 아래줄로 이동           |
| k    | 윗줄로 이동             |
| ←    | 왼쪽으로 1 space 이동   |
| →    | 오른쪽으로 1 space 이동 |
| ↓    | 아래줄로 이동           |
| ↑    | 윗줄로 이동             |



5. 문서내용편집

| KEY       | 동작                      |
| --------- | ------------------------- |
| dd        | · 현재 줄 잘라내기        |
| dw        | · 단어 잘라내기           |
| yy        | · 현재 줄 복사하기        |
| p         | · 붙여넣기                |
| r         | · 현재 글자 교체하기      |
| u         | · Undo                    |
| Ctrl + R  | · Redo                    |
| x(소문자) | · 현재 글자 지우기        |
| X(대문자) | · 앞의 글자 지우기        |
| cw        | · 단어 잘라내기           |
| >         | · 들여쓰기                |
| <         | · 내어쓰기                |
| .         | · 이전 명령어를 다시 실행 |



6. EX 모드 단축키

| KEY           | 동작                                                         |
| ------------- | ------------------------------------------------------------ |
| :숫자         | · 지정한 라인넘버로 이동                                     |
| :new          | · 가로로 창 분할                                             |
| :vs           | · 세로로 창 분할                                             |
| :e 파일명     | · 파일 새로 열기                                             |
| :%s/old/new/g | · old라는 문자를 new라는 문자로 치환                         |
| /단어         | · 문서에서 단어를 찾는다. · 단어 찾기 기능의 Ex모드는 :(콜론)이 아니라 /(슬레쉬)임을 주의하자 <br />· 찾은 단어 사이를 이동하려면 n키를 누르면 된다. |